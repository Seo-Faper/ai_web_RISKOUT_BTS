# NLP-Tools for riskout

## Quick Demo

1. Update/install Docker and build & run

```bash
curl -fsSL https://get.docker.com/ | sudo sh

# Build dockerfile!
docker build --tag nlptools:1.0 .

# Run image and bash
docker run --rm -p 8000:8000 nlptools:1.0

# (Optional) 만약, 이 nlptool를 단독으로 쓰고 싶다면
docker compose up -d
```

2. Go to {your_domain_or_ip_address}/docs and see API Docs

## How to use NLP-Tools

1. Use as Python packages
2. Use as REST-API Server

### 1) SUMMARIZER

- `POST /summarize`

```json
// REQUEST
{
  "document": "SK이노베이션이 임시 주주총회을 열고 배터리 사업 분사를 결의했다. SK이노베이션은 16일 오전 10시 서울 종로구 SK서린빌딩에서 임시 주주총회를 열고 'SK배터리 주식회사(가칭)'와 'SK E&P 주식회사(가칭)'의 물적분할안을 의결했다. 전 체 주주의 74.57%(6233만1624주)가 주총에 참석했으며, 이 가운데 80.2%(4998만1081주)가 찬성했다. 분할 조 건인 주총 참석 주식의 3분의 2 이상, 전체 주식의 3분의 1이상 찬성을 확보했다. 2대 주주인 국민연금이 분 사안에 반대한다는 의사를 밝혔지만 글로벌 의결권 자문기구 등이 찬성 의사를 밝혔다. SK이노베이션의 지분 율은 올해 반기 기준 ㈜SK 등 특수관계인 33.4%, SK이노베이션 자기주식 10.8%, 국민연금 8.1%, 기타(외국인 및 국내 기관, 개인주주) 47.7% 등이다. 기타 지분 중 외국인ㆍ국내 기관이 약 26%, 개인주주가 22% 수준이다."
}

// RESPONSE
{
    "summairzed": "SK이노베이션은 16일 오전 10시 서울 종로구 SK서린빌딩에서 임시 주주총회를 열고 'SK배터리 주식회사(가칭)'와 'SK E&P 주식회사(가칭)'의 물적분할안을 의결했다.",
    "time": 5.45867395401001
}
```

### 2) TEXTRANK

- `POST /keywords`

```json
// REQUEST
{
  "documents": [
    "北도 주목한 드라마 D.P. 지옥같은 南 군살이 파헤쳐···부패상 그대로 폭로",
    "북한 김여정, 금수산 참배식 참석, 건재함 과시",
    "코로나 집단감염 청해부대 탔던 문무대왕함 국내 복귀 마쳐",
    "박재민 차관, UAE· 베트남 순방길...방산수출 확대, 국방협력 격상 토대마련할듯",
    "국방장관님 요즘도 D.P.보다 심하지 말입니다 20대 예비역 트라우마 꺼냈다",
    "북한 선전매체 드라마 DP 남조선 군부 부패상 폭로",
    "軍 코로나19 신규확진 3명…누적 1656명",
    "코로나 집단 감염 문무대왕함, 국내 복귀",
    "코로나19 집단발병 청해부대 탔던 문무대왕함 국내 복귀(상보)",
    "코로나 집단감염 사태 문무대왕함, 진해 해군기지 복귀",
    "메타버스에 반한 육군...훈련체계 40년만에 싹 바꾼다",
    "양낙규의 Defence Club DP병, 탈영병 얼마나 체포했나",
    "박재민 국방차관, 17일까지 UAE·베트남 공식 방문",
    "박재민 국방차관, UAE·베트남 공식 방문…아크부대 격려",
    "北의 침묵 속…한미일 북핵수석 3개월만에 다시 모인다",
    "역린 건드렸다 文이 대놓고 격노한 산업부 차관의 말",
    "11일부터 출생연도 상관없이 국민지원금 온라인 신청 가능",
    "한미일북핵대표 오는 14일 도쿄 회동…北 대화 유인책 나올까",
    "中 견제 느슨한 고리 강화하는 미국…커지는 韓 고민",
    "백신접종 도우미 국민비서 국민지원금 알림도 척척",
    "[오늘의 주요일정] 정치·정부(11일, 토)",
    "美국무부 성 김, 일본行…북핵수석 3자 회담 참석",
    "성 김, 13~15일 방일…도쿄서 한미일 북핵수석대표 협의",
    "SLBM 발사관 10개 갖춘 잠수함 만든다",
    "이번엔 공군 女중령이 男군무원 성희롱 논란",
    "고노 담화 무력화시킨 日에… 외교부 매우 유감"
  ]
}
```

```json
// RESPONSE
{
  "keywords": [
    ["북", 1.7014049537084133],
    ["핵", 1.7014049537084133],
    ["일", 1.5533698350684033],
    ["코로나", 1.4088121387606907],
    ["미일", 1.316004707342728],
    ["집단", 1.2331906006701203],
    ["문무대왕함", 1.2331906006701203],
    ["복귀", 1.2331906006701203],
    ["차관", 1.219264421912547],
    ["국방", 1.219264421912547]
  ],
  "time": 0.005606889724731445
}
```

- `POST /keysentences`

```json
// REQUEST
{
  "documents": [
    "北도 주목한 드라마 D.P. 지옥같은 南 군살이 파헤쳐···부패상 그대로 폭로",
    "북한 김여정, 금수산 참배식 참석, 건재함 과시",
    "코로나 집단감염 청해부대 탔던 문무대왕함 국내 복귀 마쳐",
    "박재민 차관, UAE· 베트남 순방길...방산수출 확대, 국방협력 격상 토대마련할듯",
    "국방장관님 요즘도 D.P.보다 심하지 말입니다 20대 예비역 트라우마 꺼냈다",
    "북한 선전매체 드라마 DP 남조선 군부 부패상 폭로",
    "軍 코로나19 신규확진 3명…누적 1656명",
    "코로나 집단 감염 문무대왕함, 국내 복귀",
    "코로나19 집단발병 청해부대 탔던 문무대왕함 국내 복귀(상보)",
    "코로나 집단감염 사태 문무대왕함, 진해 해군기지 복귀",
    "메타버스에 반한 육군...훈련체계 40년만에 싹 바꾼다",
    "양낙규의 Defence Club DP병, 탈영병 얼마나 체포했나",
    "박재민 국방차관, 17일까지 UAE·베트남 공식 방문",
    "박재민 국방차관, UAE·베트남 공식 방문…아크부대 격려",
    "北의 침묵 속…한미일 북핵수석 3개월만에 다시 모인다",
    "역린 건드렸다 文이 대놓고 격노한 산업부 차관의 말",
    "11일부터 출생연도 상관없이 국민지원금 온라인 신청 가능",
    "한미일북핵대표 오는 14일 도쿄 회동…北 대화 유인책 나올까",
    "中 견제 느슨한 고리 강화하는 미국…커지는 韓 고민",
    "백신접종 도우미 국민비서 국민지원금 알림도 척척",
    "[오늘의 주요일정] 정치·정부(11일, 토)",
    "美국무부 성 김, 일본行…북핵수석 3자 회담 참석",
    "성 김, 13~15일 방일…도쿄서 한미일 북핵수석대표 협의",
    "SLBM 발사관 10개 갖춘 잠수함 만든다",
    "이번엔 공군 女중령이 男군무원 성희롱 논란",
    "고노 담화 무력화시킨 日에… 외교부 매우 유감"
  ]
}
```

```json
// RESPONSE
{
  "keysentences": [
    [12, 1.2408452915935402, "박재민 국방차관, 17일까지 UAE·베트남 공식 방문"],
    [
      17,
      1.2371907286937773,
      "한미일북핵대표 오는 14일 도쿄 회동…北 대화 유인책 나올까"
    ],
    [
      22,
      1.220695663680734,
      "성 김, 13~15일 방일…도쿄서 한미일 북핵수석대표 협의"
    ],
    [
      2,
      1.1913596999089116,
      "코로나 집단감염 청해부대 탔던 문무대왕함 국내 복귀 마쳐"
    ],
    [
      13,
      1.1583888367203494,
      "박재민 국방차관, UAE·베트남 공식 방문…아크부대 격려"
    ],
    [7, 1.1187700884424505, "코로나 집단 감염 문무대왕함, 국내 복귀"],
    [
      8,
      1.1093703865407103,
      "코로나19 집단발병 청해부대 탔던 문무대왕함 국내 복귀(상보)"
    ],
    [
      14,
      1.103995276152745,
      "北의 침묵 속…한미일 북핵수석 3개월만에 다시 모인다"
    ],
    [21, 1.0844556613504293, "美국무부 성 김, 일본行…북핵수석 3자 회담 참석"],
    [
      3,
      1.0716010216382523,
      "박재민 차관, UAE· 베트남 순방길...방산수출 확대, 국방협력 격상 토대마련할듯"
    ]
  ],
  "time": 0.006654500961303711
}
```

### 3) Sentiment

- `POST /sentiment`

```json
// RESPONSE
{
  "keywords": [
    ["북", 1.7014049537084133],
    ["핵", 1.7014049537084133],
    ["일", 1.5533698350684033],
    ["코로나", 1.4088121387606907],
    ["미일", 1.316004707342728],
    ["집단", 1.2331906006701203],
    ["문무대왕함", 1.2331906006701203],
    ["복귀", 1.2331906006701203],
    ["차관", 1.219264421912547],
    ["국방", 1.219264421912547]
  ],
  "time": 0.005606889724731445
}
```

- `POST /keysentences`

```json
// REQUEST
{
  "document": "전 세계에서 넷플릭스 순위 1위를 휩쓸고 있는 한국 오리지널 시리즈 ‘오징어 게임’에 개인이 사용 중인 휴대폰 번호가 그대로 노출돼 피해자가 고통을 호소하고 있다. 피해자 A씨는 23일 머니투데이와의 인터뷰에서 ‘오징어 게임’ 방영 이후 일상생활이 어려울 정도로 24시간 문자와 전화가 쉴 새 없이 오고 있다고 밝혔다. 영문을 몰랐던 A씨는 지인들을 통해 본인의 번호가 드라마에 유출된 사실을 알게 됐다고 전했다.이어 A씨는 “10년도 더 된 번호가 이리 되자 황당하다”며 “최근까지 삭제한 전화번호만 4000개가 넘는다. 밤낮으로 시간 개념도 없이 호기심에 오는 연락에 휴대폰 배터리가 반나절이면 방전되어 버릴 정도”라며 괴로움을 토로했다."
}

// or
{
  "document" : ["문재인 대통령은 다음 달이면 코로나19 백신접종률이 세계에서 가장 앞선 나라가 될 것이라며 '위드 코로나'에 대해 검토하겠다는 뜻을 밝혔다. 일상을 회복하면서도 필요한 방역조치를 유지해 나가겠다는 의미다. 문 대통령은 23일 대통령 전용기인 공군1호기에서 청와대 기자단과 간담회를 열고 다음 달 말 정도 되면 접종완료율도 70%를 넘기게 될 것이라고 생각한다. 그때 되면 우리도 ‘위드 코로나’를 검토해야 된다고 말했다. 문 대통령은 백신접종률에서 우리가 세계에서 앞서가는 나라가 될 것이라고 그렇게 믿고 있다고 강조했다.",
  "누구나 한 번쯤 받아본 경험이 있는 보이스피싱 전화. 도대체 어디에 사무실을 차려놓고 이런 전화를 거는 것인지, 찾아가서 따지고 싶은 생각이 들게 마련이다. 지난 15일 개봉해 박스오피스 1위를 기록하고 있는 영화 '보이스' 역시 우리 생활 속에 파고든 보이스피싱의 발신지를 추적하는 내용이다. 전직 형사 서준은 보이스피싱 전화로 딸의 병원비와 아파트 중도금을 잃은 건설현장 동료들을 위해 중국에 있는 보이스피싱 콜센터로 잠입한다. 개인정보 수집과 인출책 섭외, 환전소 작업에 이르기까지. 체계적이고 조직적인 보이스피싱 일당의 범죄 행태를 보며 서준은 할 말을 잃는다. 이처럼 영화에서나 나올법한 일 같지만, 이미 4년 전 제주에서 비슷한 일이 일어난 적이 있다. 타이완 조폭이 한국인과 공모해 제주도에 콜센터를 차려 중국인을 상대로 보이스피싱을 한, 일명 '제주 타이완 보이스피싱 콜센터 사건' 이다."]
}
```

```json
// RESPONSE
{
  "score": [[0.7791659832000732, 0.22083395719528198]],
  "time": 0.062280893325805664
}

// or
{
  "score": [
    [
      [
        0.07178948819637299,
        0.9282105565071106
      ]
    ],
    [
      [
        0.8726058602333069,
        0.1273941546678543
      ]
    ]
  ],
  "time": 0.14600038528442383
}
```

## References

- [lovit/textrank](https://github.com/lovit/textrank)

  - ^1 : Mihalcea, R., & Tarau, P. (2004). Textrank: Bringing order into text. In Proceedings of the 2004 conference on empirical methods in natural language processing

- [SKT-AI/kobart](https://github.com/SKT-AI/KoBART)

  - [seujung/KoBART-summarizationseujung/](https://github.com/seujung/KoBART-summarization)
